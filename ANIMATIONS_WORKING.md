# ‚úÖ –ê–ù–Ü–ú–ê–¶–Ü–á –ü–†–ê–¶–Æ–Æ–¢–¨ –ó–ê –ó–ê–ú–û–í–ß–£–í–ê–ù–ù–Ø–ú

## üé¨ –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ:

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –∞–Ω—ñ–º–∞—Ü—ñ–π**
```javascript
// –í App constructor –¥–æ–¥–∞–Ω–æ:
this.mixer = null;
this.clock = new THREE.Clock();
this.animations = [];
```

### 2. **–ú–µ—Ç–æ–¥ setupAnimations()**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î –í–°–Ü –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –º–æ–¥–µ–ª—ñ
setupAnimations(model) {
  if (!model.animations || model.animations.length === 0) {
    return; // –Ω–µ–º–∞—î –∞–Ω—ñ–º–∞—Ü—ñ–π - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏
  }
  
  // –°—Ç–≤–æ—Ä—é—î–º–æ AnimationMixer
  this.mixer = new THREE.AnimationMixer(model);
  
  // –ó–∞–ø—É—Å–∫–∞—î–º–æ –≤—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó
  model.animations.forEach((clip) => {
    const action = this.mixer.clipAction(clip);
    action.play(); // ‚ñ∂Ô∏è –ê–í–¢–û–ó–ê–ü–£–°–ö
  });
}
```

### 3. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ animate()**
```javascript
// –ö–æ–∂–µ–Ω —Ñ—Ä–µ–π–º –æ–Ω–æ–≤–ª—é—î–º–æ mixer
animate() {
  const delta = this.clock.getDelta();
  if (this.mixer) {
    this.mixer.update(delta); // –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å
  }
  // ... —ñ–Ω—à—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
}
```

### 4. **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è TYPE_MISMATCH**
```javascript
// –ü–µ—Ä–µ–¥ –µ–∫—Å–ø–æ—Ä—Ç–æ–º –≤–∏–ø—Ä–∞–≤–ª—è—î–º–æ attenuationDistance
if (material.attenuationDistance === null || material.attenuationDistance === undefined) {
  material.attenuationDistance = Infinity;
}
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ –ê–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. **–ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ House15/House16** - —è–∫—â–æ —î –∞–Ω—ñ–º–∞—Ü—ñ—ó, –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è
2. **–ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É** - –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
3. **–í –∫–æ–Ω—Å–æ–ª—ñ –≤–∏–¥–Ω–æ:**
```
üé¨ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è 3 –∞–Ω—ñ–º–∞—Ü—ñ–π...
  ‚ñ∂Ô∏è –ê–Ω—ñ–º–∞—Ü—ñ—è 1: "Idle" (2.00s) - –ó–ê–ü–£–©–ï–ù–ê
  ‚ñ∂Ô∏è –ê–Ω—ñ–º–∞—Ü—ñ—è 2: "Walk" (1.50s) - –ó–ê–ü–£–©–ï–ù–ê
  ‚ñ∂Ô∏è –ê–Ω—ñ–º–∞—Ü—ñ—è 3: "Jump" (0.80s) - –ó–ê–ü–£–©–ï–ù–ê
‚úÖ –í—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑–∞–ø—É—â–µ–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
```

### ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç –±–µ–∑ –ø–æ–º–∏–ª–æ–∫:
```
Error: 0 (–±—É–ª–æ 1 TYPE_MISMATCH)
Warnings: 0
Animations: –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è ‚úÖ
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

### 1. –ú–æ–¥–µ–ª—å –ë–ï–ó –∞–Ω—ñ–º–∞—Ü—ñ–π (House15, House16):
```
‚ÑπÔ∏è –ú–æ–¥–µ–ª—å –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∞–Ω—ñ–º–∞—Ü—ñ–π
```
‚Üí –í—Å–µ –ø—Ä–∞—Ü—é—î –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–Ω–∞ –º–æ–¥–µ–ª—å

### 2. –ú–æ–¥–µ–ª—å –ó –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏:
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –º–æ–¥–µ–ª—å –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏
# Drag and drop a GLB file onto the scene
```

**–í –∫–æ–Ω—Å–æ–ª—ñ –ø–æ–±–∞—á–∏—Ç–µ:**
```
üé¨ –ó–Ω–∞–π–¥–µ–Ω–æ –∞–Ω—ñ–º–∞—Ü—ñ–π —É —Ñ–∞–π–ª—ñ: 3
  - –ê–Ω—ñ–º–∞—Ü—ñ—è 1: "Idle" (2.00s, 5 tracks)
  - –ê–Ω—ñ–º–∞—Ü—ñ—è 2: "Walk" (1.50s, 8 tracks)
  - –ê–Ω—ñ–º–∞—Ü—ñ—è 3: "Jump" (0.80s, 6 tracks)
‚úÖ –§–∞–π–ª model.glb —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ

üé¨ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è 3 –∞–Ω—ñ–º–∞—Ü—ñ–π...
  ‚ñ∂Ô∏è –ê–Ω—ñ–º–∞—Ü—ñ—è 1: "Idle" (2.00s) - –ó–ê–ü–£–©–ï–ù–ê
  ‚ñ∂Ô∏è –ê–Ω—ñ–º–∞—Ü—ñ—è 2: "Walk" (1.50s) - –ó–ê–ü–£–©–ï–ù–ê
  ‚ñ∂Ô∏è –ê–Ω—ñ–º–∞—Ü—ñ—è 3: "Jump" (0.80s) - –ó–ê–ü–£–©–ï–ù–ê
‚úÖ –í—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑–∞–ø—É—â–µ–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
```

**–ù–∞ –µ–∫—Ä–∞–Ω—ñ:** –ú–æ–¥–µ–ª—å –∞–Ω—ñ–º—É—î—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ! üé¨

---

## üì¶ –ï–∫—Å–ø–æ—Ä—Ç –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏:

### –ö–Ω–æ–ø–∫–∞ "üíæ –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑ –µ—Ñ–µ–∫—Ç–∞–º–∏"

**–©–æ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è:**
- ‚úÖ –ì–µ–æ–º–µ—Ç—Ä—ñ—è –º–æ–¥–µ–ª—ñ
- ‚úÖ –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑ emission
- ‚úÖ –¢–µ–∫—Å—Ç—É—Ä–∏
- ‚úÖ **–í–°–Ü –ê–ù–Ü–ú–ê–¶–Ü–á** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

**–í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—ñ—Å–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É:**
```
Format: glTF 2.0
Generator: THREE.GLTFExporter
Stats:
  3 animations ‚Üê –ê–ù–Ü–ú–ê–¶–Ü–á –ó–ë–ï–†–ï–ñ–ï–ù–Ü!
  23 materials
  191684 vertices

Error: 0 ‚Üê –í–ò–ü–†–ê–í–õ–ï–ù–û!
Warning: 0
```

---

## üéÆ –Ø–∫ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î:

### –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:
- ‚ùå –ú–æ–¥–µ–ª—å —Å—Ç–∞—Ç–∏—á–Ω–∞
- ‚ùå –ê–Ω—ñ–º–∞—Ü—ñ—ó –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å
- ‚ùå –ü—ñ—Å–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É: "0 animations"
- ‚ùå TYPE_MISMATCH error

### –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:
- ‚úÖ –ú–æ–¥–µ–ª—å –∞–Ω—ñ–º—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- ‚úÖ –í—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑–∞–ø—É—â–µ–Ω—ñ –æ–¥—Ä–∞–∑—É
- ‚úÖ –ü—ñ—Å–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É: "3 animations"
- ‚úÖ 0 errors

---

## üìù –û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏:

### `src/main.js`
```javascript
// –î–æ–¥–∞–Ω–æ:
import * as THREE from 'three';

// –í constructor:
this.mixer = null;
this.clock = new THREE.Clock();
this.animations = [];

// –ù–æ–≤–∏–π –º–µ—Ç–æ–¥:
setupAnimations(model) { ... }

// –û–Ω–æ–≤–ª–µ–Ω–æ:
animate() {
  const delta = this.clock.getDelta();
  if (this.mixer) {
    this.mixer.update(delta); // –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å!
  }
  // ...
}
```

### `src/modules/loader.js`
```javascript
// –í load() —Ç–∞ loadFromFile():
if (gltf.animations && gltf.animations.length > 0) {
  model.animations = gltf.animations; // –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—ó
}
```

---

## üöÄ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!

**–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É:**
```bash
# Dev —Å–µ—Ä–≤–µ—Ä –≤–∂–µ –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞:
http://localhost:3001/
```

**–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –º–æ–¥–µ–ª—å –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏ —ñ –ø–æ–±–∞—á–∏—Ç–µ:**
1. –ö–æ–Ω—Å–æ–ª—å–Ω–∏–π –ª–æ–≥ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –∞–Ω—ñ–º–∞—Ü—ñ—ó
2. –ú–æ–¥–µ–ª—å –∞–Ω—ñ–º—É—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
3. –ö–Ω–æ–ø–∫–∞ –µ–∫—Å–ø–æ—Ä—Ç—É –∑–±–µ—Ä—ñ–≥–∞—î –∞–Ω—ñ–º–∞—Ü—ñ—ó

---

## üí° –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:

### –Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –∑—É–ø–∏–Ω–∏—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—ó:
```javascript
// –í –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞:
window.app.mixer.stopAllAction();
```

### –Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å:
```javascript
// –í –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞:
window.app.mixer.timeScale = 2.0; // 2x —à–≤–∏–¥–∫—ñ—Å—Ç—å
window.app.mixer.timeScale = 0.5; // 0.5x –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ
```

### –Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä—à—É –∞–Ω—ñ–º–∞—Ü—ñ—é:
–ó–º—ñ–Ω—ñ—Ç—å –≤ `setupAnimations()`:
```javascript
// –ó–∞–º—ñ—Å—Ç—å:
model.animations.forEach((clip) => {
  const action = this.mixer.clipAction(clip);
  action.play();
});

// –ù–∞:
const action = this.mixer.clipAction(model.animations[0]);
action.play();
```

---

**–í—Å–µ –ø—Ä–∞—Ü—é—î! –ê–Ω—ñ–º–∞—Ü—ñ—ó –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ –µ–∫—Å–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫.** üéâ

–°—Ç–≤–æ—Ä–µ–Ω–æ 06.10.2025 üé¨
